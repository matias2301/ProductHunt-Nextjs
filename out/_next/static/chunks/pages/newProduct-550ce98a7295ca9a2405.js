_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"/g+9":function(e,t,n){"use strict";var r=n("rePB"),a=n("q1tI");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e,t,n,o){var i=Object(a.useState)(e),u=i[0],l=i[1],s=Object(a.useState)({}),p=s[0],d=s[1],f=Object(a.useState)(!1),m=f[0],b=f[1],h=Object(a.useState)(t),g=h[0],y=h[1];Object(a.useEffect)((function(){m&&(0===Object.keys(p).length&&o(),b(!1))}),[p]);return{values:u,errors:p,focus:g,handleSubmit:function(e){e.preventDefault(),y(t);var r=n(u);d(r),b(!0)},handleChange:function(e){l(c(c({},u),{},Object(r.a)({},e.target.name,e.target.value)))},handleBlur:function(){y(t);var e=n(u);d(e)},handleFocus:function(e){y(c(c({},g),{},Object(r.a)({},e.target.name,!0)))}}}},Gq1r:function(e,t,n){"use strict";n("nKUr"),n("q1tI");var r=n("qKvR");var a={name:"u2wvoe",styles:"margin-top:5rem;text-align:center;"};t.a=function(){return Object(r.c)("h1",{css:a},"Can\xb4t Find 404")}},J6O0:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newProduct",function(){return n("mviB")}])},KQpA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),c=l(o),i=l(n("zpNE")),u=l(n("hu/m"));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e){var t=/(?:\.([^.]+))?$/.exec(e);return null!=t&&null!=t[0]?t[0]:""}var f=function(e){function t(){var e,n,r;s(this,t);for(var a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.uploadTasks=[],r.handleFileSelection=function(e){for(var t=e.target.files,n=0;n<t.length;n++)r.startUpload(t[n])},p(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.cancelRunningUploads()}},{key:"cancelRunningUploads",value:function(){for(;this.uploadTasks.length>0;){var e=this.uploadTasks.pop();"running"===e.snapshot.state&&e.cancel()}}},{key:"removeTask",value:function(e){for(var t=0;t<this.uploadTasks.length;t++)if(this.uploadTasks[t]===e)return void this.uploadTasks.splice(t,1)}},{key:"startUpload",value:function(e){var t=this,n=this.props,r=n.onUploadStart,a=n.onProgress,o=n.onUploadError,c=n.onUploadSuccess,l=n.storageRef,s=n.metadata,p=n.randomizeFilename,f=n.filename,m=void 0;d(m=f?"function"===typeof f?f(e):f:p?(0,i.default)():e.name)||(m+=d(e.name)),Promise.resolve().then((function(){return e.type.match(/image.*/)&&(t.props.maxWidth||t.props.maxHeight)?(0,u.default)(e,t.props.maxWidth,t.props.maxHeight):e})).then((function(e){var n=l.child(m).put(e,s);r&&r(e,n),n.on("state_changed",(function(e){return a&&a(Math.round(100*e.bytesTransferred/e.totalBytes),n)}),(function(e){return o&&o(e,n)}),(function(){return t.removeTask(n),c&&c(n.snapshot.metadata.name,n)})),t.uploadTasks.push(n)}))}},{key:"render",value:function(){var e=this.props,t=(e.storageRef,e.onUploadStart,e.onProgress,e.onUploadSuccess,e.onUploadError,e.randomizeFilename,e.metadata,e.filename,e.maxWidth,e.maxHeight,e.hidden),n=e.as,a=void 0===n?"input":n,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["storageRef","onUploadStart","onProgress","onUploadSuccess","onUploadError","randomizeFilename","metadata","filename","maxWidth","maxHeight","hidden","as"]),i=t?Object.assign({},o.style,{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}):o.style;return c.default.createElement(a,r({type:"file",onChange:this.handleFileSelection},o,{style:i}))}}]),t}(o.Component);t.default=f},Sfbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var r=atob(this.toDataURL(t,n).split(",")[1]),a=r.length,o=new Uint8Array(a),c=0;c<a;c++)o[c]=r.charCodeAt(c);e(new Blob([o],{type:t||"image/png"}))}})}},V5hS:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},cbQT:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n("wTIg");var a=Object(r.a)("form",{target:"esvq07i0"})({name:"n77sy1",styles:"max-width:600px;width:95%;margin:5rem auto 0 auto;fieldset{margin:2rem 0;border:1px solid #e1e1e1;font-size:2rem;padding:2rem;}"}),o=Object(r.a)("div",{target:"esvq07i1"})({name:"118f3y4",styles:"margin-bottom:2rem;display:flex;align-items:center;label{flex:0 0 150px;font-size:1.8rem;}input,textarea{flex:1;padding:1rem;}textarea{height:400px;}"}),c=Object(r.a)("input",{target:"esvq07i2"})({name:"1g1flfs",styles:"background-color:var(--orange);width:100%;padding:1.5rem;text-align:center;color:#FFF;font-size:1.8rem;text-transform:uppercase;border:none;font-family:'PT Sans',sans-serif;font-weight:700;&:hover{cursor:pointer;}"}),i=Object(r.a)("p",{target:"esvq07i3"})({name:"140d7jd",styles:"background-color:red;padding:1rem;font-family:'PT Sans',sans-serif;font-weight:700;font-size:1.4rem;color:#FFF;text-align:center;text-transform:uppercase;margin:2rem 0;"})},"hu/m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){HTMLCanvasElement.prototype.toBlob||(0,o.default)();return new Promise((function(r,a){var o=new FileReader;o.onload=function(o){var c=new Image;c.onload=function(o){var i=document.createElement("canvas"),u=t||c.width,l=n||c.height;i.width=u,i.height=l;var s=u/c.width,p=l/c.height,d=Math.max(s,p),f=d*c.width,m=d*c.height,b=Math.min((l-m)/2,0),h=Math.min((u-f)/2,0),g=i.getContext("2d");if(!g)return a("Could not get the context of the canvas element");g.drawImage(c,h,b,f,m),i.toBlob((function(e){r(e)}),e.type)},c.src=o.target.result},o.readAsDataURL(e)}))};var r,a=n("Sfbb"),o=(r=a)&&r.__esModule?r:{default:r}},mviB:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),o=n("HaE+"),c=(n("nKUr"),n("q1tI")),i=n.n(c),u=n("qKvR"),l=n("nOHt"),s=n("KQpA"),p=n.n(s),d=n("80PL"),f=n("cbQT"),m=n("xWvD"),b=n("Gq1r"),h=n("/g+9");function g(e){var t={};return e.name||(t.name="Field Name is requiered"),e.company||(t.company="Field Company name is required"),e.url?/^(ftp|http|https):\/\/[^ "]+$/.test(e.url)||(t.url="It isn't a valid URL format"):t.url="Field Product URL is required",e.description||(t.description="Field Description is required"),t}var y={name:"",company:"",image:"",url:"",description:""},v={name:!1,company:!1,url:!1,description:!1},O={name:"1ap128e",styles:"text-align:center;margin-top:5rem;"};t.default=function(){var e=Object(c.useState)(""),t=(e[0],e[1]),n=Object(c.useState)(!1),r=(n[0],n[1]),s=Object(c.useState)(0),j=(s[0],s[1]),w=Object(c.useState)(""),x=w[0],P=w[1],S=Object(c.useState)(!1),_=S[0],F=(S[1],Object(h.a)(y,v,g,(function(){return H.apply(this,arguments)}))),U=F.values,C=F.errors,k=F.focus,E=F.handleSubmit,R=F.handleChange,T=F.handleBlur,q=F.handleFocus,B=U.name,N=U.company,D=(U.image,U.url),M=U.description,z=Object(l.useRouter)(),I=Object(c.useContext)(m.a),L=I.userLogged,A=I.firebase;function H(){return(H=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=2;break}return e.abrupt("return",z.push("/login"));case 2:return t={name:B,company:N,url:D,urlimage:x,description:M,votes:0,comments:[],created:Date.now(),creator:{id:L.uid,name:L.displayName},voted:[]},A.db.collection("products").add(t),e.abrupt("return",z.push("/"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.c)("div",null,Object(u.c)(d.a,null,L?Object(u.c)(i.a.Fragment,null,Object(u.c)("h1",{css:O},"New Product"),Object(u.c)(f.c,{onSubmit:E,noValidate:!0},Object(u.c)("fieldset",null,Object(u.c)("legend",null,"General Info"),Object(u.c)(f.b,null,Object(u.c)("label",{htmlFor:"name"},"Name"),Object(u.c)("input",{type:"text",id:"name",placeholder:"Product Name",name:"name",value:B,onChange:R,onBlur:T,onFocus:q})),C.name&&!k.name&&Object(u.c)(f.a,null,C.name),Object(u.c)(f.b,null,Object(u.c)("label",{htmlFor:"company"},"Company"),Object(u.c)("input",{type:"text",id:"company",placeholder:"Company Name",name:"company",value:N,onChange:R,onBlur:T,onFocus:q})),C.company&&!k.company&&Object(u.c)(f.a,null,C.company),Object(u.c)(f.b,null,Object(u.c)("label",{htmlFor:"image"},"Image"),Object(u.c)(p.a,{accept:"image/*",id:"image",name:"image",randomizeFilename:!0,storageRef:A.storage.ref("products"),onUploadStart:function(){j(0),r(!0)},onUploadError:function(e){r(e),console.error(e)},onUploadSuccess:function(e){j(100),r(!1),t(e),A.storage.ref("products").child(e).getDownloadURL().then((function(e){console.log(e),P(e)}))},onProgress:function(e){return j({inProgress:e})}})),Object(u.c)(f.b,null,Object(u.c)("label",{htmlFor:"url"},"URL"),Object(u.c)("input",{type:"url",id:"url",name:"url",placeholder:"Product URL",value:D,onChange:R,onBlur:T,onFocus:q})),C.url&&!k.url&&Object(u.c)(f.a,null,C.url)),Object(u.c)("fieldset",null,Object(u.c)("legend",null,"About your Product"),Object(u.c)(f.b,null,Object(u.c)("label",{htmlFor:"descripcion"},"Description"),Object(u.c)("textarea",{id:"description",name:"description",value:M,onChange:R,onBlur:T,onFocus:q})),C.description&&!k.description&&Object(u.c)(f.a,null,C.description)),_&&Object(u.c)(f.a,null,_," "),Object(u.c)(f.d,{type:"submit",value:"Create Product"}))):Object(u.c)(b.a,null)))}},rnWd:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,a=n;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},zpNE:function(e,t,n){var r=n("V5hS"),a=n("rnWd");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var i=0;i<16;++i)t[o+i]=c[i];return t||a(c)}}},[["J6O0",1,2,4,5,0,3,6]]]);